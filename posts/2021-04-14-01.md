# 在windows 10 上面使用chrome 對ios的 safari 進行除錯

Step:
  1. 先下載最新版的iTunes，並且安裝好。不一定要安裝在C槽。
  2. 安裝好最新版的Node.js。
  3. 以管理員身分執行Windows PowerShell。
  4. 安裝npm的套件，指令如下：
     ```nodejs=
     npm install remotedebug-ios-webkit-adapter -g
     ```
  5. 因為現在ios的版本都是超過ios11以上，所以須要先下載這個git hub裡面的程式碼。
     [Link](https://github.com/google/ios-webkit-debug-proxy/releases) 我自己使用v1.8.8是可以正常使用的。   
  6. 到剛npm安裝的全域資料夾裡面自己新增資料夾路徑  
     底下創一個新的資料夾叫做 ios-webkit-debug-proxy-1.8-win64-bin 創好之後會是
     如果沒有vs-libimobile，就自己手動創建吧。
     ```cmd=  
     // %AppData% => C:\Users\user\AppData\Roaming
          
     // 到 npm 的 global找這個路徑,如果沒有自己新增,最後路徑大概會長這樣
     %AppData%\npm\node_modules\remotedebug-ios-webkit-adapter\node_modules\vs-libimobile\ios-webkit-debug-proxy-1.8-win64-bin
     ```

  7. 把步驟5抓下來的檔案解壓縮放進6.創好的資料夾底下。

  8. 編輯這個檔案
     ```cmd=
     %AppData%\npm\node_modules\remotedebug-ios-webkit-adapter\out\adapters\iosAdapter.js
      ```
     把第132行的proxy 變數改成以下這樣:
     ```nodejs=
     const proxy = path.resolve(__dirname, '../../node_modules/vs-libimobile/ios-webkit-debug-proxy-1.8-win64-bin/ios_webkit_debug_proxy.exe');
     ```
 
   9. 把你的ios裝置從電腦拔掉，重新開機、重新以管理員身分開啟你的power Shell以及Chrome。重新裝上你的裝置到windows電腦。

   10. 在 powershell 輸入以下命令,其中port你可以替換。
       ```powershell=
       // 執行剛在npm全域裝的套件,並輸入port
       remotedebug_ios_webkit_adapter --port=9000
       ```
   11. 允許windows 跳出來的防火牆警告。

   12. 如果他開始跑了，你在powershell應該會看到這個:
       ![demo](https://washamdev.com/wp-content/uploads/2016/02/debug-ios-apple-powershell-adapter-running.png)

   13. 打開Chrome，網址輸入： chrome://inspect/#devices

   14. 你會看到這個畫面，按下Configure
       ![demo2](https://washamdev.com/wp-content/uploads/2016/02/debug-ios-apple-network-target-configure.png)
   15. 新增"localhost:9000"到列表中。
       ![demo3](https://washamdev.com/wp-content/uploads/2016/02/debug-ios-apple-add-network-target.png)  
   16. 在你的裝置允許信任這部電腦，有的需要輸入密碼。
  
    註：你的裝置上必須要先讓safari可以debug，可以在設定->Safari->進階->允許Javascript和網頁檢閱器。

   17. 在你的裝置上用safari打開須要檢測的網頁。

   18. 在你的windows電腦的chrome頁面，一旦接上了，你應該可以馬上在步驟13開出來的頁面下方，看見你裝置上的網站。

   19. 看你是要檢測哪個網站，在那個目標下方按下inspect即可。
       ![demo4](https://washamdev.com/wp-content/uploads/2016/02/debug-ios-apple-target-found.png)